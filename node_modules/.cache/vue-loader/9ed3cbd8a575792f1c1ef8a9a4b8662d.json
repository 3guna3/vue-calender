{"remainingRequest":"/Users/hashimotokouhei/Desktop/vue-calendar/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hashimotokouhei/Desktop/vue-calendar/frontend/src/components/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hashimotokouhei/Desktop/vue-calendar/frontend/src/components/Calendar.vue","mtime":1639126135010},{"path":"/Users/hashimotokouhei/Desktop/vue-calendar/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hashimotokouhei/Desktop/vue-calendar/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZvcm1hdCB9IGZyb20gJ2RhdGUtZm5zJzsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgRXZlbnREZXRhaWxEaWFsb2cgZnJvbSAnLi9FdmVudERldGFpbERpYWxvZyc7CmltcG9ydCBFdmVudEZvcm1EaWFsb2cgZnJvbSAnLi9FdmVudEZvcm1EaWFsb2cnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDYWxlbmRhcicsCiAgY29tcG9uZW50czogewogICAgRXZlbnREZXRhaWxEaWFsb2csCiAgICBFdmVudEZvcm1EaWFsb2csCiAgfSwKICBkYXRhOiAoKSA9PiAoewogICAgLy8g6KGo56S644GZ44KL5pyI44KS5oyH5a6aCiAgICB2YWx1ZTogZm9ybWF0KG5ldyBEYXRlKCksICd5eXl5L01NL2RkJyksCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIC8vIG1hcEdldHRlcnPjgafjga/jgrnjg4jjgqLjga5TdGF0ZeOCkuWRvOOBs+WHuuOBl+OBpuS9v+OBiOOCi+OCiOOBhuOBq+OBmeOCiwogICAgLi4ubWFwR2V0dGVycygnZXZlbnRzJywgWydldmVudHMnLCAnZXZlbnQnLCAnaXNFZGl0TW9kZSddKSwKICAgIHRpdGxlKCkgewogICAgICByZXR1cm4gZm9ybWF0KG5ldyBEYXRlKHRoaXMudmFsdWUpLCAneXl5eeW5tCBN5pyIJyk7CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgLy8gbWFwQWN0aW9uc+OBp+OBr+OCueODiOOCouOBrkFjdGlvbuOCkuWRvOOBs+WHuuOBl+OBpuS9v+eUqOOBp+OBjeOCi+OCiOOBhuOBq+OBmeOCiwogICAgLi4ubWFwQWN0aW9ucygnZXZlbnRzJywgWydmZXRjaEV2ZW50cycsICdzZXRFdmVudCcsICdzZXRFZGl0TW9kZSddKSwKICAgIC8vIHZhbHVl5aSJ5pWw44Gr54++5Zyo44Gr5pel44Gr44Gh44KS5Luj5YWl44GZ44KL44Oh44K944OD44OJCiAgICBzZXRUb2RheSgpIHsKICAgICAgdGhpcy52YWx1ZSA9IGZvcm1hdChuZXcgRGF0ZSgpLCAneXl5eS9NTS9kZCcpOwogICAgfSwKICAgIC8vIGRpYWxvZ01lc3NhZ2XlpInmlbDjgavkuojlrprlkI3jgpLku6PlhaXjgZnjgovjg6Hjgr3jg4Pjg4kKICAgIHNob3dFdmVudCh7IG5hdGl2ZUV2ZW50LCBldmVudCB9KSB7CiAgICAgIHRoaXMuc2V0RXZlbnQoZXZlbnQpOwogICAgICAvLyDkuojlrprjgpLjgq/jg6rjg4Pjgq/jgZfjgaZzaG93RXZlbnTjgpLlrp/ooYzjgZfjgZ/lvozjgatpbml0RXZlbnTjgpLlrp/ooYzjgZXjgZvjgarjgYTjgojjgYbjgavjgZnjgovlr77nrZYKICAgICAgbmF0aXZlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICB9LAogICAgLy8g6ZaJ44GY44KL44Oc44K/44Oz44KS5oq844GZ44Go6Kmz57Sw55S76Z2i44GM6ZaJ44GY44KL44Oh44K944OD44OJCiAgICBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy5zZXRFdmVudChudWxsKTsKICAgICAgdGhpcy5zZXRFZGl0TW9kZShmYWxzZSk7CiAgICB9LAogICAgLy8g44Kv44Oq44OD44Kv44GX44Gf5aC05omA44Gu5pel5LuY44GMZGF0ZeOBq+WFpeOCiwogICAgaW5pdEV2ZW50KHsgZGF0ZSB9KSB7CiAgICAgIC8vIOW8leaVsOOBrmRhdGXjgavjga/ml6Xku5jjgYzmloflrZfliJfjgafov5TjgaPjgabjgY/jgovjga7jgafjgIFkYXRlLnJlcGxhY2UoLy0vZywgJy8nKeOBp+ODj+OCpOODleODs+OCkuOCueODqeODg+OCt+ODpeOBq+e9ruaPm+OBl+OBpuacn+W+heOBmeOCi+WApOOBq+WkieaPm+OBmeOCiwogICAgICBkYXRlID0gZGF0ZS5yZXBsYWNlKC8tL2csICcvJyk7CiAgICAgIGNvbnN0IHN0YXJ0ID0gZm9ybWF0KG5ldyBEYXRlKGRhdGUpLCAneXl5eS9NTS9kZCAwMDowMDowMCcpOwogICAgICBjb25zdCBlbmQgPSBmb3JtYXQobmV3IERhdGUoZGF0ZSksICd5eXl5L01NL2RkIDAxOjAwOjAwJyk7CiAgICAgIHRoaXMuc2V0RXZlbnQoeyBuYW1lOiAnJywgc3RhcnQsIGVuZCwgdGltZWQ6IHRydWUgfSk7CiAgICAgIHRoaXMuc2V0RWRpdE1vZGUodHJ1ZSk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Calendar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <v-sheet height=\"6vh\" class=\"d-flex align-center\">\n      <!--今日の月に戻るボタン-->\n      <v-btn outlined small class=\"ma-4\" @click=\"setToday\">今日</v-btn>\n      <!--prev()メソッドはVuetifyのカレンダーコンポーネントで定義されているメソッド-->\n      <v-btn icon @click=\"$refs.calendar.prev()\">\n        <v-icon>mdi-chevron-left</v-icon>\n      </v-btn>\n      <!--next()メソッドはVuetifyのカレンダーコンポーネントで定義されているメソッド-->\n      <v-btn icon @click=\"$refs.calendar.next()\">\n        <v-icon>mdi-chevron-right</v-icon>\n      </v-btn>\n      <v-toolbar-title>{{ title }}</v-toolbar-title>\n    </v-sheet>\n    <v-sheet height=\"94vh\">\n      <!--ここにref=\"calendar\"とすることで、v-btnでv-calendarで定義されているメソッドを呼び出せる-->\n      <!--day-formatとmanth-formatはCalendarsコンポーネントに渡すことができるprops-->\n      <v-calendar\n        ref=\"calendar\"\n        v-model=\"value\"\n        :events=\"events\"\n        @change=\"fetchEvents\"\n        locale=\"ja-jp\"\n        :day-format=\"(timestamp) => new Date(timestamp.date).getDate()\"\n        :manth-format=\"(timestamp) => new Date(timestamp.date).getManth() + 1 + '/'\"\n        @click:event=\"showEvent\"\n        @click:day=\"initEvent\"\n      ></v-calendar>\n    </v-sheet>\n\n    <!--条件式をdialogMessage !== ''とすることで、初期状態ではダイアログが表示されず\n    予定をクリックした時にdialogMessageに値が代入されてダイアログが表示される-->\n    <!--@click:outsideというのはダイアログの外側をクリックした際のイベント発火-->\n    <v-dialog :value=\"event !== null\" @click:outside=\"closeDialog\" width=\"600\">\n      <EventDetailDialog v-if=\"event !== null && !isEditMode\" />\n      <EventFormDialog v-if=\"event !== null && isEditMode\" />\n    </v-dialog>\n  </div>\n</template>\n\n<script>\nimport { format } from 'date-fns';\nimport { mapGetters, mapActions } from 'vuex';\nimport EventDetailDialog from './EventDetailDialog';\nimport EventFormDialog from './EventFormDialog';\n\nexport default {\n  name: 'Calendar',\n  components: {\n    EventDetailDialog,\n    EventFormDialog,\n  },\n  data: () => ({\n    // 表示する月を指定\n    value: format(new Date(), 'yyyy/MM/dd'),\n  }),\n  computed: {\n    // mapGettersではストアのStateを呼び出して使えるようにする\n    ...mapGetters('events', ['events', 'event', 'isEditMode']),\n    title() {\n      return format(new Date(this.value), 'yyyy年 M月');\n    },\n  },\n  methods: {\n    // mapActionsではストアのActionを呼び出して使用できるようにする\n    ...mapActions('events', ['fetchEvents', 'setEvent', 'setEditMode']),\n    // value変数に現在に日にちを代入するメソッド\n    setToday() {\n      this.value = format(new Date(), 'yyyy/MM/dd');\n    },\n    // dialogMessage変数に予定名を代入するメソッド\n    showEvent({ nativeEvent, event }) {\n      this.setEvent(event);\n      // 予定をクリックしてshowEventを実行した後にinitEventを実行させないようにする対策\n      nativeEvent.stopPropagation();\n    },\n    // 閉じるボタンを押すと詳細画面が閉じるメソッド\n    closeDialog() {\n      this.setEvent(null);\n      this.setEditMode(false);\n    },\n    // クリックした場所の日付がdateに入る\n    initEvent({ date }) {\n      // 引数のdateには日付が文字列で返ってくるので、date.replace(/-/g, '/')でハイフンをスラッシュに置換して期待する値に変換する\n      date = date.replace(/-/g, '/');\n      const start = format(new Date(date), 'yyyy/MM/dd 00:00:00');\n      const end = format(new Date(date), 'yyyy/MM/dd 01:00:00');\n      this.setEvent({ name: '', start, end, timed: true });\n      this.setEditMode(true);\n    },\n  },\n};\n</script>\n"]}]}